{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/master\"]","additionalFields":"{}"}},{"enabled":true,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"915516","assignToRequestor":"true","additionalFields":"{\"System.Title\":\"Build-DB-VM $(date:yyyy-MM-dd)$(rev:.r)\"}"}},{"enabled":false,"definition":{"id":"57578776-4c22-4526-aeb0-86b6da17ee9c"},"inputs":{}}],"triggers":[{"branchFilters":["+refs/heads/master"],"pathFilters":[],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"BuildPlatform":{"value":"any cpu","allowOverride":true},"system.debug":{"value":"false","allowOverride":true},"location":{"value":"\"C:\\Users\\ratomir\\Desktop\\Destination\\PersonDatabase.dacpac\""},"connectionString":{"value":"\"Data Source=ms17vm;Initial Catalog=PersonDatabase;Persist Security Info=False;Integrated Security=false;user=$(username);password=$(password);MultipleActiveResultSets=True\""},"username":{"value":null,"isSecret":true},"password":{"value":null,"isSecret":true},"a-username":{"value":null,"isSecret":true},"a-password":{"value":null,"isSecret":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"metrics":[{"name":"CurrentBuildsInQueue","scope":"refs/heads/master","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/master","intValue":0},{"name":"CanceledBuilds","scope":"refs/heads/master","intValue":1,"date":"2017-10-05T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/master","intValue":0,"date":"2017-10-05T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/master","intValue":0,"date":"2017-10-05T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/master","intValue":1,"date":"2017-10-05T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/master","intValue":2,"date":"2017-10-05T00:00:00.000Z"}],"_links":{"self":{"href":"https://ratomirrvs.visualstudio.com/14526e11-6b00-48b0-bffc-bf58f30f6ab2/_apis/build/Definitions/13"},"web":{"href":"https://ratomirrvs.visualstudio.com/_permalink/_build/index?collectionId=909c813c-2da9-45ff-b953-601502828853&projectId=14526e11-6b00-48b0-bffc-bf58f30f6ab2&definitionId=13"},"editor":{"href":"https://ratomirrvs.visualstudio.com/_permalink/_build/definitionEditor?collectionId=909c813c-2da9-45ff-b953-601502828853&projectId=14526e11-6b00-48b0-bffc-bf58f30f6ab2&definitionId=13"},"badge":{"href":"https://ratomirrvs.visualstudio.com/_apis/public/build/definitions/14526e11-6b00-48b0-bffc-bf58f30f6ab2/13/badge"}},"buildNumberFormat":"Build-DB-VM_$(date:yyyy-MM-dd)$(rev:.r)","jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"badgeEnabled":true,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build solution","timeoutInMinutes":0,"condition":"succeeded()","refName":"VSBuild2","task":{"id":"71a9a2d3-a98a-4caa-96ab-affca411ecda","versionSpec":"1.*","definitionType":"task"},"inputs":{"solution":"$(Parameters.solution)","vsVersion":"latest","msbuildArgs":"","platform":"$(BuildPlatform)","configuration":"","clean":"true","maximumCpuCount":"false","restoreNugetPackages":"false","msbuildArchitecture":"x86","logProjectEvents":"true","createLogFile":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy Files to artifact","timeoutInMinutes":0,"condition":"succeeded()","refName":"CopyFiles9","task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"$(build.sourcesdirectory)/PersonDatabase/bin/Debug","Contents":"**\\*","TargetFolder":"$(build.artifactstagingdirectory)/db","CleanTargetFolder":"true","OverWrite":"true","flattenFolders":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact","timeoutInMinutes":0,"condition":"succeeded()","refName":"PublishBuildArtifacts5","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(build.artifactstagingdirectory)","ArtifactName":"$(Parameters.ArtifactName)","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)","Parallel":"false","ParallelCount":"8"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"AzureVMs File Copy","timeoutInMinutes":0,"condition":"succeeded()","refName":"AzureFileCopy7","task":{"id":"eb72cb01-a7e5-427b-a8a1-1b31ccac8a43","versionSpec":"1.*","definitionType":"task"},"inputs":{"SourcePath":"$(build.artifactstagingdirectory)/db","ConnectedServiceNameSelector":"ConnectedServiceNameARM","ConnectedServiceName":"39754214-fb97-4e5e-a15d-88b5f7f659ff","ConnectedServiceNameARM":"5e7f468d-0587-4997-85c2-f483e7edf533","Destination":"AzureVMs","StorageAccount":"","StorageAccountRM":"ms17","ContainerName":"","BlobPrefix":"","EnvironmentName":"","EnvironmentNameRM":"MS17","ResourceFilteringMethod":"machineNames","MachineNames":"ms17vm","vmsAdminUserName":"$(a-username)","vmsAdminPassword":"$(a-password)","TargetPath":"C:\\Users\\ratomir\\Desktop\\Destination","AdditionalArguments":"","enableCopyPrerequisites":"false","CopyFilesInParallel":"true","CleanTargetBeforeCopy":"true","skipCACheck":"true","outputStorageUri":"","outputStorageContainerSasToken":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Run PowerShell on Target Machine","timeoutInMinutes":0,"condition":"succeeded()","refName":"PowerShellOnTargetMachines8","task":{"id":"3b5693d4-5777-4fee-862a-bd2b7a374c68","versionSpec":"1.*","definitionType":"task"},"inputs":{"EnvironmentName":"ms17vm.westeurope.cloudapp.azure.com:5986","AdminUserName":"$(a-username)","AdminPassword":"$(a-password)","Protocol":"Https","TestCertificate":"true","ScriptPath":"C:\\Users\\ratomir\\Desktop\\sql\\sql-script.ps1","ScriptArguments":"-action Publish -location $(location) -connectionString $(connectionString) -blockOnDataLose False","InitializationScriptPath":"","SessionVariables":"","RunPowershellInParallel":"true","ResourceFilteringMethod":"machineNames","MachineNames":""}}],"name":null,"jobAuthorizationScope":0}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","fetchDepth":"0"},"id":"c309633c-5e47-4f39-976b-7455d504b398","type":"TfsGit","name":"PersonDatabase","url":"https://ratomirrvs.visualstudio.com/MS%20Community%202017/_git/PersonDatabase","defaultBranch":"refs/heads/master","clean":"true","checkoutSubmodules":false},"processParameters":{"inputs":[{"options":{},"properties":{},"name":"solution","label":"Path to solution or packages.config","defaultValue":"PersonDatabase.sln","required":true,"type":"filePath","helpMarkDown":"The path to the Visual Studio solution file or NuGet packages.config","visibleRule":"","groupName":""},{"options":{},"properties":{},"name":"ArtifactName","label":"Artifact Name","defaultValue":"artifact","required":true,"type":"string","helpMarkDown":"The name of the artifact to create.","visibleRule":"","groupName":""}]},"quality":1,"authoredBy":{"id":"33b64992-ef8d-43d2-861b-dfe3dda963b7","displayName":"Ratomir Vukadin","uniqueName":"Ratomir@live.com","url":"https://app.vssps.visualstudio.com/A09823710-1b36-413b-8eb7-e04cdca44f79/_apis/Identities/33b64992-ef8d-43d2-861b-dfe3dda963b7","imageUrl":"https://ratomirrvs.visualstudio.com/_api/_common/identityImage?id=33b64992-ef8d-43d2-861b-dfe3dda963b7"},"queue":{"id":46,"name":"Hosted","pool":{"id":2,"name":"Hosted","isHosted":true}},"id":13,"name":"Build-DB-VM","url":"https://ratomirrvs.visualstudio.com/14526e11-6b00-48b0-bffc-bf58f30f6ab2/_apis/build/Definitions/13","uri":"vstfs:///Build/Definition/13","path":"\\","type":2,"queueStatus":0,"revision":16,"createdDate":"2017-09-18T16:26:48.800Z","project":{"id":"14526e11-6b00-48b0-bffc-bf58f30f6ab2","name":"MS Community 2017","description":"Wellcome to MS Community 2017 BiH conference. :D","url":"https://ratomirrvs.visualstudio.com/_apis/projects/14526e11-6b00-48b0-bffc-bf58f30f6ab2","state":"wellFormed","revision":56002549,"visibility":0}}